<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal - Janakiyamma Foundation</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>Janakiyamma Foundation</h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="about.html" class="nav-link">About</a>
                </li>
                <li class="nav-item">
                    <a href="register.html" class="nav-link">Register</a>
                </li>
                <li class="nav-item">
                    <a href="portal.html" class="nav-link active">Portal</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1 class="page-title">Learning Portal</h1>
            <p class="page-subtitle">Access your AI/ML learning environment</p>
        </div>
    </section>

    <!-- Portal Content -->
    <section class="content-section">
        <div class="container">
            <!-- Login Section -->
            <div class="portal-card" id="login-section">
                <i class="fas fa-lock" style="font-size: 4rem; color: #6b7280; margin-bottom: 2rem;"></i>
                <h2 style="color: #2563eb; margin-bottom: 2rem; font-size: 2rem;">Login Required</h2>
                <p style="color: #6b7280; margin-bottom: 2rem; max-width: 500px; margin-left: auto; margin-right: auto;">
                    Please sign in with your Google account to access the learning portal. Make sure you've registered first using the registration form.
                </p>
                <button id="google-signin-btn" class="login-button">
                    <i class="fab fa-google"></i>
                    Sign in with Google
                </button>
                <div id="auth-status" style="margin-top: 1rem; color: #6b7280;"></div>
            </div>

            <!-- Portal Content (Hidden until logged in) -->
            <div class="portal-content" id="portal-content">
                <!-- Welcome Section -->
                <div class="content-card">
                    <div style="display: flex; align-items: center; gap: 2rem; flex-wrap: wrap;">
                        <div style="flex: 1; min-width: 300px;">
                            <h2 style="color: #2563eb; margin-bottom: 1.5rem; font-size: 2.5rem;">
                                Welcome, <span id="user-name">Student</span>!
                            </h2>
                            <p style="color: #6b7280; margin-bottom: 2rem; font-size: 1.1rem; line-height: 1.7;">
                                You now have access to our AI/ML learning platform. Start your journey with interactive Jupyter notebooks, 
                                expert-guided tutorials, and hands-on projects.
                            </p>
                            <button id="logout-btn" style="background: #ef4444; color: white; padding: 10px 20px; border: none; border-radius: 25px; cursor: pointer; font-weight: 600;">
                                <i class="fas fa-sign-out-alt"></i> Sign Out
                            </button>
                        </div>
                        <div style="flex: 0 0 200px; text-align: center;">
                            <img id="user-photo" src="" alt="User Photo" style="width: 120px; height: 120px; border-radius: 50%; border: 4px solid #2563eb; display: none;">
                            <div id="user-placeholder" style="width: 120px; height: 120px; background: linear-gradient(135deg, #2563eb, #3b82f6); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                                <i class="fas fa-user" style="font-size: 3rem; color: white;"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- JupyterHub Access -->
                <div class="content-card">
                    <h2 style="color: #2563eb; margin-bottom: 2rem; font-size: 2rem; text-align: center;">JupyterHub Learning Environment</h2>
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <i class="fab fa-python" style="font-size: 4rem; color: #3776ab; margin-bottom: 1rem;"></i>
                        <p style="color: #6b7280; margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">
                            Access your personal Jupyter notebook environment where you can run Python code, 
                            experiment with AI/ML algorithms, and complete interactive lessons.
                        </p>
                        
                        <!-- JupyterHub Link Placeholder -->
                        <div style="background: #f3f4f6; border: 2px dashed #d1d5db; border-radius: 15px; padding: 3rem; margin: 2rem 0;">
                            <i class="fas fa-server" style="font-size: 3rem; color: #6b7280; margin-bottom: 1rem;"></i>
                            <h3 style="color: #4b5563; margin-bottom: 1rem;">JupyterHub Environment</h3>
                            <p style="color: #6b7280; margin-bottom: 1.5rem;">
                                Your JupyterHub server will be available here once set up.
                            </p>
                            <div style="margin-bottom: 1.5rem;">
                                <strong style="color: #1f2937;">Placeholder URL:</strong><br>
                                <code style="background: #e5e7eb; padding: 0.5rem 1rem; border-radius: 8px; display: inline-block; margin-top: 0.5rem;">
                                    http://your-server:8000
                                </code>
                            </div>
                            <a href="#" id="jupyter-link" class="btn btn-primary" onclick="showJupyterInfo()" style="background: #ff6b35; border-color: #ff6b35;">
                                <i class="fas fa-external-link-alt"></i> Launch JupyterHub
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Learning Resources -->
                <div class="content-card">
                    <h2 style="color: #2563eb; margin-bottom: 2rem; font-size: 2rem; text-align: center;">Learning Resources</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 12px; border-left: 4px solid #10b981;">
                            <h3 style="color: #1f2937; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fas fa-play-circle" style="color: #10b981;"></i>
                                Getting Started
                            </h3>
                            <p style="color: #6b7280; margin-bottom: 1rem;">
                                Begin with basic Python programming and introduction to AI/ML concepts.
                            </p>
                            <ul style="color: #6b7280; line-height: 1.6;">
                                <li>Python Basics</li>
                                <li>Data Types & Variables</li>
                                <li>Control Structures</li>
                                <li>Functions & Libraries</li>
                            </ul>
                        </div>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 12px; border-left: 4px solid #3b82f6;">
                            <h3 style="color: #1f2937; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fas fa-brain" style="color: #3b82f6;"></i>
                                AI/ML Fundamentals
                            </h3>
                            <p style="color: #6b7280; margin-bottom: 1rem;">
                                Learn the core concepts of artificial intelligence and machine learning.
                            </p>
                            <ul style="color: #6b7280; line-height: 1.6;">
                                <li>What is AI/ML?</li>
                                <li>Data Science Basics</li>
                                <li>NumPy & Pandas</li>
                                <li>Data Visualization</li>
                            </ul>
                        </div>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 12px; border-left: 4px solid #8b5cf6;">
                            <h3 style="color: #1f2937; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fas fa-project-diagram" style="color: #8b5cf6;"></i>
                                Hands-on Projects
                            </h3>
                            <p style="color: #6b7280; margin-bottom: 1rem;">
                                Apply your knowledge with real-world AI/ML projects and experiments.
                            </p>
                            <ul style="color: #6b7280; line-height: 1.6;">
                                <li>Image Recognition</li>
                                <li>Text Analysis</li>
                                <li>Prediction Models</li>
                                <li>Final Capstone</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Progress Tracking -->
                <div class="content-card">
                    <h2 style="color: #2563eb; margin-bottom: 2rem; font-size: 2rem; text-align: center;">Your Progress</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; text-align: center;">
                        <div>
                            <div style="width: 80px; height: 80px; background: #10b981; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem; font-weight: bold;">0%</div>
                            <h3 style="color: #1f2937; margin-bottom: 0.5rem;">Lessons Completed</h3>
                            <p style="color: #6b7280;">Track your learning progress</p>
                        </div>
                        <div>
                            <div style="width: 80px; height: 80px; background: #3b82f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem; font-weight: bold;">0</div>
                            <h3 style="color: #1f2937; margin-bottom: 0.5rem;">Projects Done</h3>
                            <p style="color: #6b7280;">Hands-on experience gained</p>
                        </div>
                        <div>
                            <div style="width: 80px; height: 80px; background: #8b5cf6; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem; font-weight: bold;">0h</div>
                            <h3 style="color: #1f2937; margin-bottom: 0.5rem;">Study Time</h3>
                            <p style="color: #6b7280;">Total learning hours</p>
                        </div>
                        <div>
                            <div style="width: 80px; height: 80px; background: #ef4444; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem; font-weight: bold;">0</div>
                            <h3 style="color: #1f2937; margin-bottom: 0.5rem;">Certificates</h3>
                            <p style="color: #6b7280;">Achievements unlocked</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Janakiyamma Foundation</h3>
                    <p>Empowering the next generation through AI/ML education</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="register.html">Register</a></li>
                        <li><a href="portal.html">Portal</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p>Email: info@janaki-foundation.org</p>
                    <p>Building AI/ML education for all</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Janakiyamma Foundation. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Firebase Configuration Script -->
    <script>
        // Firebase configuration - Replace with your actual config
        const firebaseConfig = {
            // You'll need to add your Firebase project configuration here
            // Get this from Firebase Console > Project Settings > General > Your apps
            apiKey: "your-api-key",
            authDomain: "your-project-id.firebaseapp.com",
            projectId: "your-project-id",
            storageBucket: "your-project-id.appspot.com",
            messagingSenderId: "your-sender-id",
            appId: "your-app-id"
        };

        // Initialize Firebase
        let auth;
        try {
            firebase.initializeApp(firebaseConfig);
            auth = firebase.auth();
            console.log("Firebase initialized successfully");
        } catch (error) {
            console.log("Firebase not configured yet:", error);
            document.getElementById('auth-status').innerHTML = '<p style="color: #ef4444; margin-top: 1rem;"><i class="fas fa-exclamation-triangle"></i> Firebase not configured yet. Please set up Firebase project.</p>';
        }

        // Google Sign-In
        document.getElementById('google-signin-btn').addEventListener('click', function() {
            if (!auth) {
                alert('Firebase is not configured yet. Please set up your Firebase project first.');
                return;
            }

            const provider = new firebase.auth.GoogleAuthProvider();
            auth.signInWithPopup(provider)
                .then((result) => {
                    console.log('User signed in:', result.user);
                    showPortalContent(result.user);
                })
                .catch((error) => {
                    console.error('Sign-in error:', error);
                    document.getElementById('auth-status').innerHTML = '<p style="color: #ef4444;">Sign-in failed: ' + error.message + '</p>';
                });
        });

        // Sign out
        document.getElementById('logout-btn').addEventListener('click', function() {
            if (auth) {
                auth.signOut().then(() => {
                    showLoginSection();
                });
            }
        });

        // Auth state observer
        if (auth) {
            auth.onAuthStateChanged((user) => {
                if (user) {
                    showPortalContent(user);
                } else {
                    showLoginSection();
                }
            });
        }

        function showPortalContent(user) {
            document.getElementById('login-section').style.display = 'none';
            document.getElementById('portal-content').classList.add('active');
            
            // Update user info
            document.getElementById('user-name').textContent = user.displayName || 'Student';
            
            if (user.photoURL) {
                document.getElementById('user-photo').src = user.photoURL;
                document.getElementById('user-photo').style.display = 'block';
                document.getElementById('user-placeholder').style.display = 'none';
            }
        }

        function showLoginSection() {
            document.getElementById('login-section').style.display = 'block';
            document.getElementById('portal-content').classList.remove('active');
        }

        function showJupyterInfo() {
            alert(`JupyterHub Integration:

To set up JupyterHub:
1. Install JupyterHub on your server
2. Configure authentication
3. Update the link below to point to your JupyterHub instance
4. Replace the placeholder URL with your actual server address

Example: http://your-server-ip:8000

For now, this is a placeholder that shows how the integration would work.`);
        }

        // Firebase setup instructions
        function showFirebaseSetup() {
            alert(`Firebase Setup Instructions:

1. Go to https://console.firebase.google.com/
2. Create a new project
3. Enable Authentication > Sign-in method > Google
4. Get your configuration from Project Settings > General
5. Replace the firebaseConfig object in this file
6. Deploy your website

Your users will then be able to sign in with Google!`);
        }

        // Show Firebase setup if not configured
        if (!auth) {
            setTimeout(() => {
                const setupBtn = document.createElement('button');
                setupBtn.innerHTML = '<i class="fas fa-cog"></i> Firebase Setup Instructions';
                setupBtn.className = 'login-button';
                setupBtn.style.background = '#10b981';
                setupBtn.style.marginTop = '1rem';
                setupBtn.onclick = showFirebaseSetup;
                document.getElementById('login-section').appendChild(setupBtn);
            }, 1000);
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
